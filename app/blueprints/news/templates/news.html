{% extends "base.html" %} {% block title %}Crime News{% endblock %} {%
    block header %}
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/news.css') }}"
    />

    <script>
      function openModal(imageSrc) {
        const modal = document.getElementById("image-modal");
        const modalImage = document.getElementById("modal-image");
        modalImage.src = imageSrc;
        modal.style.display = "flex";
      }
    
      function closeModal() {
        const modal = document.getElementById("image-modal");
        modal.style.display = "none";
      }
    </script>

    
    {% endblock %} {%block main %}
    <div class="container mt-4">
      <h2 class="mb-4">Crime News for Krakow</h2>
      {% if error %}
      <div class="alert alert-danger">{{ error }}</div>
      {% else %}
      <table class="table table-striped">
        <tbody>
          {% for article in articles %}
          <tr>
            <td>
              <img
                src="{{article.image_url}}" referrerpolicy="no-referrer"
                alt="{{article.image_url}}"
                class="article-image"
                onclick="openModal('{{ article.image_url }}')"
              />
            </td>
            <td><strong>{{ article.title }}</strong></td>
            <td>
              {% if article.summary %} {{ article.summary }} {% else %} Description unavailable - go to full article -> {% endif %}
            </td>
            <td>
              <a href="{{ article.article_link }}" target="_blank" class="btn btn-link"
                >Read more</a
              >
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
      {% endif %}
    </div>
    <div
      id="image-modal"
      class="modal-overlay"
      style="display: none"
      onclick="closeModal()"
    >
      <img id="modal-image" class="modal-image" alt="Enlarged photo" />
    </div>
    {% endblock %}